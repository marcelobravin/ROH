senha SQ [casa] trampo BW
cj-xfaYum4CR#rb





informar quando senha for sequencial em validação de senha


MFA ativável
    sms cel
    email



https://www.nicehash.com/profitability-calculator/nvidia-rtx-3090
planilhas




problema no cadastrar e
    usuario erro no voltar
    não está enviando email


INSERT INTO `hospital` (`titulo`, `ativo`, `cnes`, `cnpj`, `diretor`, `segundo_responsavel`, `endereco`, `cep`, `telefone`, `email `, `criado_por`) VALUES ('1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1')


arrumar os cabecalho_para_dowload_csv no ctrl +f (tem um monte)

ugglify()




criar views
    CREATE
    DEFINER=CURRENT_USER SQL SECURITY INVOKER
    VIEW nome_da_sua_view AS
    SELECT * FROM tabela_do_banco;



/*
$x= executar("SET FOREIGN_KEY_CHECKS=0");
exibir($x);

ativacaoConstraints(0);

if ( !importarRegistros(ARQUIVOS_EFEMEROS ."/db/dml/registros/_log_operacoes.sql") ) {
	die( 'Erro: importarRegistros()');
}

$x= executar("SET FOREIGN_KEY_CHECKS=0");
exibir($x);
 */

/*
INSERT INTO `elemento` (`id`, `id_categoria`, `titulo`, `ativo`, `criado_em`, `atualizado_em`, `excluido_em`, `criado_por`, `atualizado_por`, `excluido_por`) VALUES ('36', '7', 'Radiologia', '1', '2021-07-06 10:35:59', '0000-00-00 00:00:00', '0000-00-00 00:00:00', '1', '0', '0')
36

INSERT INTO `hospital` (`id`, `titulo`, `ativo`, `cnes`, `cnpj`, `diretor`, `segundo_responsavel`, `endereco`, `cep`, `telefone`, `email`, `criado_em`, `atualizado_em`, `excluido_em`, `criado_por`, `atualizado_por`, `excluido_por`) VALUES ('1', 'Novo Hospital', '1', '0', '0', '', '', '', '0', '', '', '2021-08-10 14:48:43', '2021-08-13 15:34:46', '', '1', '', '')
*/



get endereço by cep


corrige permissões de acesso conforme normas da hostagator
    sudo find roh -type d -print0 | xargs -0 chmod 0755;
    sudo find roh -type f -print0 | xargs -0 chmod 0644;


find /var/www/html -type d -exec chmod 755 {} \;
find /var/www/html -type f -exec chmod 644 {} \;


Salvar histórico no log em caso de update
Mfa

Testar envio de e-mail local no Windows


verificar importação de registros - aí dá pra usar o db import/export
problemas
    default date em excluido_em [funciona em algumas tabelas]
    log_operações problema json via php
    desativar fks para evitar problema de ordem de importação [não funciona]
        ou reagendar registros com erro de fk



<script src="js/lib/pdf.min.js"></script>



@param/return    mixed

mudar regexp de email
    não está aceitando numeros
	testar VALIDATE_EMAIL que já tem no projeto


identificar dependencias varre tabelas e
    verifica se alguma tabela tem id_MODULO (em dev, em prod ter mapeado)
    verifica se existe algum registro
        usuario verifica tabela de logs de acesso e operação





ROTULO FORMULARIO
    $conteudo = "<!-- ". agora( IDIOMA=='pt-BR' ) . " -->\n" .$form;




cada pagina informar scripts que usa
    processos finais concatenar scripts e incluir (minificados?)



Só aceitar solicitações de usuários se bater o IP, só, navegador com o registro do último acesso dele

Registrar log off (e queda de sessão?)



Verificar selecionar Sanitização com booleana




chmod
escreve
chmod


    ALTER TABLE `_log_operacoes` ADD `acao2` SET('I','U','D','d') NOT NULL AFTER `acao`;


https://www.php.net/manual/en/filter.filters.sanitize.php


Roteiro PENTEST
    Força bruta login
    Todos firmes ???????????
    Xss
    Sql injection
        todos queries que usam get precisam de bind
    log injection
    rainbow tables
    tempo de login diferente
    verificar 72 chars em validações regexp
    sequestro de sessão



TESTAR xss nos meus projetos
    Colocar isso num formulário de i/u
        <script>alert("vc sofreu um ataque XSS ")</script>



        # TODO colocar no modulo
                        # default
                        $sobreEscreverLabels = array();
                        $sobreEscreverCampos = array();
                        $esconder = array();
                        $conversoes = array();
                        $descricaoLabels = array();
                        $padroes = array();
                        $remover = array(
                            # campos de log
                            'criado_em',
                            'atualizado_em',
                            'excluido_em',
                            'criado_por',
                            'atualizado_por',
                            'excluido_por'
                        );


exportar salva em app/db
gerar salva em ephemorous


adicionar descrição das coisas em acoes
    e manual quickstart
    gera env, estrutura de diretorio, pasta db, tabela básica


linha 3x em instalacao.php
        $inserts = "-- ". agora( IDIOMA=='pt-BR' )."\n";



    configurarExibicaoErros(PRODUCAO); # TODO verificar


    // Bracket pair colorizer
        // "bracket-pair-colorizer-2.colors": [
        //  "#8BE9FD",
        //  "#50FA7B",
        //  "#FFB86C",
        //  "#FF79C6",
        //  "#BD93F9",
        //  "#F1FA8C"
        // ],

        "bracket-pair-colorizer-2.colorMode": "Consecutive",
        "bracket-pair-colorizer-2.forceUniqueOpeningColor": false,
        "bracket-pair-colorizer-2.forceIterationColorCycle": false,
        "bracket-pair-colorizer-2.showBracketsInGutter": true,
        "bracket-pair-colorizer-2.showBracketsInRuler": true,
        "bracket-pair-colorizer-2.showVerticalScopeLine": true,
        "bracket-pair-colorizer-2.showHorizontalScopeLine": true,
        "bracket-pair-colorizer-2.unmatchedScopeColor": "#FF0000",

    /**
     * Atalho para incluir um arquivo com endereço absoluto
     * @package grimoire/bibliotecas/arquivos.php
     * @version 05-07-2015
     *
     * @param   string
     * @return  bool
     *
     * @uses    $_SERVER
     */
    function arquivo ($arquivo = "imagens/logo.png")
    {
        echo BASE . "assets/" .$arquivo;
    }





    /**
     * Limita caracteres sem cortar palavras
     * @package grimoire/bibliotecas/texto.php
     * @version 05-07-2015
     *
     * @param   string
     * @param    int
     * @param   string
     * @return  string
     */
    function truncate ($string, $len, $etc='...')
    {
        $end = array(' ', '.', ',', ';', ':', '!', '?' );
        if (strlen($string) <= $len) {
            return $string;
        }
        if (!in_array($string[$len - 1], $end) && !in_array($string[$len], $end)) {
            while (--$len && !in_array($string[$len - 1], $end));
        }
        return rtrim(substr($string, 0, $len)) . $etc;
    }






SMTP=smtp.gmail.com
smtp_port=587
sendmail_from = YourGmailId@gmail.com
sendmail_path = "\"C:\xampp\sendmail\sendmail.exe\" -t"

M4rkn3ss


alterar case "foreignKey":


Agrupar parâmetros gerar formulário()
Encapsular

Segmentar em pegar descrição do bando e armazenar ou o a armazenada

Registrar filosofias aplicadas
early return
DRY don't repeat yourself (colocar sub funções se necessário, identificar essas que estiverem fora e encapsular)
ACID [Atomicity, Consistency, Isolation and Durability.]
Direct if evitar usar not



paginação com filtros dinamicos



Isso é só mexer no bd e usar modelo para personalizar módulos
Gerar automaticamente menu, lista e formulário i/u
Gerar módulo administração
Workflow geral tabela Template, personalizar tabela, gerar itens acima exibir no menu incluído na Index

* @todo puxar do módulo



Check list relatório para observação humana
Pronto para produção?
Verifica tabelas
Usuário 1
Tabela logs
Configuração de exibir erros php.ini
Funções de debug
Permissões de acesso
Arquivos de configuração


Programação funcional aplicar constante conforme tipo de variável no bind
Testes
Resultado esperado e resultado recebido de funções chave
Ex cadastrar usuário com ok unity3d





resolver inconsistencias SQ
arrumar phpdoc
27/07/2021 15:56:49

na função paginar deixar aberto para parametros é altamente suscetivel a erro
[R.: solução só aceitar determinados parametros conforme definido pelo módulo]
    # remove indices que podem dar erro
    unset($get['pagina']);
    unset($get['chave_ordenacao']);
    unset($get['ordem']);
    foreach ($get as $key => $value) {
        $criterios_busca[] = $key . "='{$value}'";
    }


30/07/2021 11:50:37


verificar comments table e column


Exportar dB não deve gerar fk e sim importar as que estão em uso
Gerar fks pode ter parâmetro pra auto gerar todas





    Clock -> desenvolvimento
    Converter para oo

    Transação oo
    Paginação
    Validação
    Conexão

Eco sobrecarga de métodos
String builder
Carga inicial roda sqls básicos (usar no gerar build produção) tira de processos iniciais e coloca em .sql fora de efêmeros

.button.disabled {
    color: #bbb!important;
    border-color: #ddd!important;
    background: #ebebeb!important;
    cursor: not-allowed!important;
    box-shadow: none!important;
}

snipetts
table
aria-label="Lista de hospitais"


header("HTTP/1.1 404 Not Found");


processos finais limpa mensagem


comentários listar valores numericos


REFERENCES `hospital` (`id`) ON UPDATE CASCADE)



informar tiago

function somenteLetrasBr ($param)
{
    return preg_match("/^[a-zA-Z]*$/", $param);
}





181

The way I've done it before is basically like what you wrote, but doesn't have any hardcoded values:

if($_SERVER["HTTPS"] != "on")
{
    header("Location: https://" . $_SERVER["HTTP_HOST"] . $_SERVER["REQUEST_URI"]);
    exit();
}

ou could do it with a directive and mod_rewrite on Apache:
<Location /buyCrap.php>
RewriteEngine On
RewriteCond %{HTTPS} off
RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}
</Location>








23/07/2021 11:48:16
pegar anotações keep
Clock -> desenvolvimento
Converter para oo

Transação oo


Grim
    fk_key
        id_
        no formgenerator

snippets sql no vsc


procedimento
    sudo chown lucas:lucas -R htdocs
    chwon
        dir 755
        file 644



BUG: transformou duas UQ em uma única?
    ALTER TABLE `usuario` ADD UNIQUE KEY `usuario_uq` (login, cpf);




    Validador Cartão Crédito
    Validador Conta Bancária
    Validador de Certidões
    Validador de CNH
    Validador de CNPJ
    Validador de CPF
    Validador de PIS/PASEP
    Validador de RENAVAM
    Validador de RG
    Validador Título de Eleitor
    Validar Inscrição Estadual





// chmod(ABSPATH ."../../arquivo.txt", octdec(0755));



    stmt executer
        parametro opcional sanitização conforme tabela do bd




auto area administrativa


problema com minify
    remove os // de endereco
    @import url('https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Poppins&display=swap');



Dados do site
    colocar em .env?




mapa arvore de diretorio conter tamano, linhas de cada arquivo e somatório no final






function exportarFKs ()
{
	$sqlFks = "SELECT *
		FROM information_schema.referential_constraints
		WHERE constraint_schema = 'db_relatorio_ocupacao_hospitalar'";

	$fks = executarStmt($sqlFks, array(), "S");
}





permissões do htdocs recursivo
    ou owner eu


update & delete sem where colocar uma restrição no queryBuilder
    if  PRODUCAO

https://federico-razzoli.com/mysql-danger-comments-and-alter-table
	ALTER TABLE t1 COMMENT = 'New table comment';


db export perde constraints
	Use the information_schema.table_constraints table to get the names of the constraints defined on each table:
	SELECT * FROM information_schema.table_constraints
	WHERE constraint_schema = 'db_relatorio_ocupacao_hospitalar'


	Use the information_schema.key_column_usage table to get the fields in each one of those constraints:
	SELECT * FROM information_schema.key_column_usage
	WHERE constraint_schema = 'db_relatorio_ocupacao_hospitalar'


	If instead you are talking about foreign key constraints, use information_schema.referential_constraints:
	SELECT * FROM information_schema.referential_constraints
	WHERE constraint_schema = 'db_relatorio_ocupacao_hospitalar'

SELECT DISTINCT(constraint_name)
FROM information_schema.table_constraints
WHERE constraint_schema = 'db_relatorio_ocupacao_hospitalar'
ORDER BY constraint_name ASC;





colocar os comentários de banco nos forms?


require("processosIniciais.php");
#include estrutura
# q só gera e armazena
#pagina concatena o conteudo


# TODO
# verificar se usuário tem permissão de acesso para excluir
# excluir usuário logado??


css defaults
	get css.php
	span.numero {
		text-decoration: underline;
	}


    /*
    ├─────────────────────────────────────────────────────────────────────────────── assets (9)
    | Define critérios de busca
    └───────────────────────────────────────────────────────────────────────────────
     * @todo criar mecanismo para parametrizar
    */



    // function  backtrace()
    // {

    //  $callers = debug_backtrace();
    //  $arrBacktrace = array();
    //  $callersNum = count($callers);

    //  echo('<pre>');
    //  print_r($callers);
    //  echo('</pre>');

    //  for ($i = 1; $i < $callersNum; $i++) {
    //      $arrBacktrace [] = sprintf('%s::%s(%d)', $callers[$i]['class'], $callers[$i]['function'], $callers[$i]['line'])
    // ;
    //  }

    //  return implode('->', $arrBacktrace);
    // }

    // function  lancarExcecao( $mssg )
    // {
    //  backtrace();
    //  throw new Exception($mssg);
    // }


    /**
     * Executa comando em ambiente de teste apenas se parametro get estiver incluído
     *
     * @param   string
     * @return  bool
     *
     * @example
        // http://localhost/isabella-blanco/?AMBTST
        ambtst();
     * @internal PERIGO
     */
    function ambtst ($comandos="echo 'teste!';")
    {
        if (isset($_GET['AMBTST'])) {
        eval($comandos);
        }
    }

    /**
    * Função para gerar senhas aleatórias
    * @package grimoire/bibliotecas/texto.php
    * @version 05-07-2015
    *
    * @author       Thiago Belem <contato@thiagobelem.net>
    *
    * @param int $tamanho Tamanho da senha a ser gerada
    * @param bool $maiusculas Se terá letras maiúsculas
    * @param bool $numeros Se terá números
    * @param bool $simbolos Se terá símbolos
    *
    * @return string A senha gerada
    */
    function geraSenha ($tamanho=8, $maiusculas=true, $numeros=true, $simbolos=false)
    {
        $lmin       = 'abcdefghijklmnopqrstuvwxyz';
        $lmai       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
        $num        = '1234567890';
        $simb       = '!@#$%*-';
        $retorno    = '';
        $caracteres = '';

        $caracteres .= $lmin;
        if ($maiusculas)    $caracteres .= $lmai;
        if ($numeros)       $caracteres .= $num;
        if ($simbolos)      $caracteres .= $simb;

        $len = strlen($caracteres);
        for ($n = 1; $n <= $tamanho; $n++) {
            $rand = mt_rand(1, $len);
            $retorno .= $caracteres[$rand-1];
        }
        return $retorno;
    }


    /**
     * Gera uma string legível
     * @package grimoire/bibliotecas/texto.php
     * @version 05-07-2015
     *
     * @param   string
     * @return  bool
     *
     * @example
            echo readable_random_string();
     * @todo
            gerador de senha forte
            function gerarSenha ($caracteres=6, $senhaForte=true) {// contem numeros e letras em U
                C
     */
    function readable_random_string ($length=6)
    {
        $conso = array("b","c","d","f","g","h","j","k","l","m","n","p","r","s","t","v","w","x","y","z");
        $vocal = array("a","e","i","o","u");
        $password = "";

        srand((double)microtime()*1000000);
        $max = $length/2;
        for($i=1; $i <= $max; $i++) {
            $password .= $conso[rand(0,19)];
            $password .= $vocal[rand(0,4)];
        }
        return $password;
    }

    /**
     * Exibe todas informações do sistema
     * @package grimoire/bibliotecas/acesso.php
     * @version 17-07-2015
     *
     * @param   bool    bloquear usuários logados ou deslogados
     * @param   string
     *
     * @uses    acesso.php->logado()
     */
    function debug ()
    {
        echo "Arquivos incluídos neste:";
        exibir(get_included_files());

        get_defined_constants();

        print_r(array_keys(get_defined_vars()));
        // print_r($GLOBALS);
        echo '<pre>';
        echo "<h1>ERROS</h1>";
        var_dump(__FILE__, __LINE__);
        ini_set('display_errors', 'On');
        error_reporting(E_ALL);
        // echo "<h1>FILE</h1>";
        // var_dump($_FILE);
        echo "<h1>REQUEST</h1>";
        var_dump($_REQUEST);
        echo "<h1>POST</h1>";
        var_dump($_POST);
        echo "<h1>GET</h1>";
        var_dump($_GET);
        echo "<h1>COOKIE</h1>";
        var_dump($_COOKIE);
        echo "<h1>SESSION</h1>";
        session_start();
        var_dump($_SESSION);
        echo "<h1>SERVER</h1>";
        var_dump($_SERVER);
        echo '</pre>';
        // get all php files
        $files = glob('*.php');
        print_r($files);
        echo "<hr>";
        echo phpinfo();

        $ini_array = parse_ini_file("sample.ini");
        print_r($ini_array);
    }


    /**
     * Retorna o endereço da página atual
     * @package grimoire/bibliotecas/texto.php
     * @version 05-07-2015
     *
     * @return  string
     *
     * @example
            echo retornarEndereco();
     */
    function retornarEndereco ()
    {
        return "http://$_SERVER[HTTP_HOST]$_SERVER[REQUEST_URI]";
    }

    /**
     * Decriptografa uma string
     * @package grimoire/bibliotecas/texto.php
     * @version 05-07-2015
     *
     * @param   string
     * @param   string
     * @return  boolean
     *
     * @example
            $hashed_password = criptografia('mypassword');
            $user_input = 'mypassword';
            echo decriptografar($user_input, $hashed_password);
     */
    /*
        You should pass the entire results of crypt() as the salt for comparing a
        password, to avoid problems when different hashing algorithms are used. (As
        it says above, standard DES-based password hashing uses a 2-character salt,
        but MD5-based hashing uses 12.)
    */
    function decriptografar($string, $stringCriptografada) {
        return false;
        if (crypt($string, $stringCriptografada) === $stringCriptografada) {
    }

    <?php
        //echo h1("Ola Mundo!");

        function seletor($regra, $seletor="*"){
            return "
            <style>
                $seletor {
                    $regra
                }
            </style>";
        }

        //echo seletor(opacity(0.6));
        function opacity($numero) {
            return "
            -khtml-opacity: $numero; /* Konqueror extension (Safari 1.1) */
                -moz-opacity: $numero; /* Mozilla extension */
                         opacity: $numero; /* Android 2.1+, Chrome 4+, Firefox 2+, IE 9+, iOS 3.2+, Opera 9+, Safari 3.1+ */
                    -ms-filter: 'progid:DXImageTransform.Microsoft.Alpha(Opacity=". $numero * 100 .")'; /* IE 8 */
                            filter: alpha(opacity=50); /* IE 5-7 */
            ";
                            //filter: progid:DXImageTransform.Microsoft.Alpha(opacity=". $numero * 100 .");
        }

        //echo seletor(gradient("#000000", "#FFFFFF"));
        function gradient($from, $to) {
            return "
            background-color: $from; /* Old browsers */
            background-image: -webkit-gradient(linear, left top, left bottom, from($from), to($to)); /* Chrome, Safari 4+ */
            background-image: -webkit-linear-gradient(top, $from, $to); /* Chrome 10-25, iOS 5+, Safari 5.1+ */
            background-image:       -moz-linear-gradient(top, $from, $to); /* Firefox 3.6-15 */
            background-image:        -ms-linear-gradient(top, $from, $to); /* IE10+ */
            background-image:           -o-linear-gradient(top, $from, $to); /* Opera 11.10-12.00 */
            background-image:                linear-gradient(to bottom, $from, $to); /* Chrome 26, Firefox 16+, IE 10+, Opera 12.10+ */

            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='$from', endColorstr='$to', GradientType=0); /* IE6-8 */
            ";

            /*
    /* IE9 SVG, needs conditional override of 'filter' to 'none' */
    //background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzFlNTc5OSIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iIzI5ODlkOCIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjUxJSIgc3RvcC1jb2xvcj0iIzIwN2NjYSIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiM3ZGI5ZTgiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
    //background: -moz-linear-gradient(top, #1e5799 0%, #2989d8 50%, #207cca 51%, #7db9e8 100%); /* FF3.6+ */
    //background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#1e5799), color-stop(50%,#2989d8), color-stop(51%,#207cca), color-stop(100%,#7db9e8)); /* Chrome,Safari4+ */
    //background: -webkit-linear-gradient(top, #1e5799 0%,#2989d8 50%,#207cca 51%,#7db9e8 100%); /* Chrome10+,Safari5.1+ */
    //background: -o-linear-gradient(top, #1e5799 0%,#2989d8 50%,#207cca 51%,#7db9e8 100%); /* Opera 11.10+ */
    //background: -ms-linear-gradient(top, #1e5799 0%,#2989d8 50%,#207cca 51%,#7db9e8 100%); /* IE10+ */
    //background: linear-gradient(to bottom, #1e5799 0%,#2989d8 50%,#207cca 51%,#7db9e8 100%); /* W3C */

        }

        //echo seletor(borderRadius("5px"));
        function borderRadius($radius) {
            return "
            border: 1px solid red;
            -webkit-border-radius: $radius; /* Android ≤ 1.6, iOS 1-3.2, Safari 3-4 */
             -khtml-border-radius: $radius;
                 -moz-border-radius: $radius;
                            border-radius: $radius; /* Android 2.1+, Chrome, Firefox 4+, IE 9+, iOS 4+, Opera 10.50+, Safari 5+ */

            /* useful if you don't want a bg color from leaking outside the border: */
            background-clip: padding-box; /* Android 2.2+, Chrome, Firefox 4+, IE 9+, iOS 4+, Opera 10.50+, Safari 4+ */
            ";

        }


        //echo seletor(textShadow());
        function textShadow($x=0, $y=0, $blur="5px", $cor="#000000") {
            return "
            text-shadow: $x $y $blur $cor; /* Chrome, Firefox 3.5+, IE 10+, Opera 9+, Safari 1+ */
            ";
         /*
        filter:
                            progid:DXImageTransform.Microsoft.Glow(Color=#eeeeee,Strength=2)
                            progid:DXImageTransform.Microsoft.blur(pixelradius=5, enabled='true')
                    ;

    zoom:1;
    filter: progid:DXImageTransform.Microsoft.Glow(Color=#000000,Strength=1);
    -ms-filter: "progid:DXImageTransform.Microsoft.dropshadow(OffX=-1, OffY=-1, Color=#000000)
    progid:DXImageTransform.Microsoft.dropshadow(OffX=0, OffY=-1, Color=#000000)
    progid:DXImageTransform.Microsoft.dropshadow(OffX=1, OffY=-1, Color=#000000)
    progid:DXImageTransform.Microsoft.dropshadow(OffX=1, OffY=0, Color=#000000)
    progid:DXImageTransform.Microsoft.dropshadow(OffX=1, OffY=1, Color=#000000)
    progid:DXImageTransform.Microsoft.dropshadow(OffX=0, OffY=1, Color=#000000)
    progid:DXImageTransform.Microsoft.dropshadow(OffX=-1, OffY=1, Color=#000000)
    progid:DXImageTransform.Microsoft.dropshadow(OffX=-1, OffY=0, Color=#000000)";
     */
        }


        //echo seletor(boxShadow("1px", "1px", "5px", "BLACK"));
        //echo seletor(boxShadow("1px", "1px", "5px", "#000000", true));
        function boxShadow($x=0, $y=0, $blur="5px", $cor="#000000", $inset=false) {
            $inset ? $interna="inset" : $interna="";
            return "
            -webkit-box-shadow: $interna $x $y $blur $cor; /* Android 2.3+, iOS 4.0.2-4.2, Safari 3-4 */
                 -moz-box-shadow: $interna $x $y $blur $cor;
                            box-shadow: $interna $x $y $blur $cor; /* Chrome 6+, Firefox 4+, IE 9+, iOS 5+, Opera */
            -ms-filter: progid:DXImageTransform.Microsoft.Shadow(Strength=4, Direction=135, Color='$cor'); /* NÂO FUNFA*/
                    filter: progid:DXImageTransform.Microsoft.Shadow(Strength=4, Direction=135, Color='$cor');
            ";

        }

        //echo seletor(transform(90), "h1");
        function transform($rotacao=0, $scale=1, $skew=1, $translate=0) {
        $rotacao = $rotacao . "deg";
        $skew = $skew . "deg";
        $translate = $translate . "px";
            return "
            -webkit-transform: rotate($rotacao) scale($scale) skew($skew) translate($translate); /* Chrome, Safari 3.1+ */
                 -moz-transform: rotate($rotacao) scale($scale) skew($skew) translate($translate); /* Firefox 3.5-15    */
                    -ms-transform: rotate($rotacao) scale($scale) skew($skew) translate($translate); /* IE 9    */
                     -o-transform: rotate($rotacao) scale($scale) skew($skew) translate($translate); /* Opera 10.50-12.00   */
                            transform: rotate($rotacao) scale($scale) skew($skew) translate($translate); /* Firefox 16+, IE 10+, Opera 12.10+ */
            ";
        }


        //echo seletor(skew(90), "h1");
        function skew($skew=1) {
        $skew = $skew . "deg";
            return "
            -webkit-transform: skew($skew); /* Chrome, Safari 3.1+  */
                 -moz-transform: skew($skew); /* Firefox 3.5-15 */
                    -ms-transform: skew($skew); /* IE 9 */
                     -o-transform: skew($skew); /* Opera 10.50-12.00    */
                            transform: skew($skew); /* Firefox 16+, IE 10+, Opera 12.10+ */
            ";
        }

        //echo seletor(scale(2), "h1");
        function scale($scale=1) {
            return "
            -webkit-transform: scale($scale); /* Chrome, Safari 3.1+    */
                 -moz-transform: scale($scale); /* Firefox 3.5-15   */
                    -ms-transform: scale($scale); /* IE 9   */
                     -o-transform: scale($scale); /* Opera 10.50-12.00  */
                            transform: scale($scale); /* Firefox 16+, IE 10+, Opera 12.10+ */
            ";
        }

        //echo seletor(rotate(90), "h1");
        function rotate($rotacao=0) {
            $rotacao = $rotacao . "deg";
            return "
            -webkit-transform: rotate($rotacao); /* Chrome, Safari 3.1+ */
                 -moz-transform: rotate($rotacao); /* Firefox 3.5-15    */
                    -ms-transform: rotate($rotacao); /* IE 9    */
                     -o-transform: rotate($rotacao); /* Opera 10.50-12.00   */
                            transform: rotate($rotacao); /* Firefox 16+, IE 10+, Opera 12.10+ */
            ";
        }

        //echo seletor(rotateX(90), "h1");
        function rotateX($rotacao=0) {
            $rotacao = $rotacao . "deg";
            return "
            -webkit-transform: rotateX($rotacao); /* Chrome, Safari 3.1+    */
                 -moz-transform: rotateX($rotacao); /* Firefox 3.5-15   */
                    -ms-transform: rotateX($rotacao); /* IE 9   */
                     -o-transform: rotateX($rotacao); /* Opera 10.50-12.00  */
                            transform: rotateX($rotacao); /* Firefox 16+, IE 10+, Opera 12.10+ */
            ";
        }

        //echo seletor(rotateY(90), "h1");
        function rotateY($rotacao=0) {
            $rotacao = $rotacao . "deg";
            return "
            -webkit-transform: rotateY($rotacao); /* Chrome, Safari 3.1+    */
                 -moz-transform: rotateY($rotacao); /* Firefox 3.5-15   */
                    -ms-transform: rotateY($rotacao); /* IE 9   */
                     -o-transform: rotateY($rotacao); /* Opera 10.50-12.00  */
                            transform: rotateY($rotacao); /* Firefox 16+, IE 10+, Opera 12.10+ */
            ";
        }

        //echo seletor(transition(3, "border"), "h1");
        //echo seletor("color:red", "h1:hover");
        function transition($tempo=1, $propriedade="all", $transitionTiming="ease") {
            $tempo = $tempo . "s";
            return "
            -webkit-transition: $propriedade $tempo $transitionTiming; /* Chrome 1-25, Safari 3.2+ */
                 -moz-transition: $propriedade $tempo $transitionTiming; /* Firefox 4-15 */
                     -o-transition: $propriedade $tempo $transitionTiming; /* Opera 10.50–12.00 */
                            transition: $propriedade $tempo $transitionTiming; /* Chrome 26, Firefox 16+, IE 10+, Opera 12.10+ */
            ";
            // Transition Timing
            //ease-in-out
            //ease-out
            //ease-in
            //ease
            // linear
        }

        //echo seletor(animation("minhaAnimacao"), "h1");
        function animation($animacao, $tempo=1, $repeticao="infinite", $transitionTiming="ease") {
            $tempo = $tempo . "s";
            return "
            -webkit-animation: $animacao $tempo $repeticao $transitionTiming; /* Chrome, Safari 5+ */
                 -moz-animation: $animacao $tempo $repeticao $transitionTiming; /* Firefox 5-15 */
                     -o-animation: $animacao $tempo $repeticao $transitionTiming; /* Opera 12.00 */
                            animation: $animacao $tempo $repeticao $transitionTiming; /* Chrome, Firefox 16+, IE 10+, Opera 12.10+ */
            ";
            // Transition Timing
            //ease-in-out
            //ease-out
            //ease-in
            //ease
            // linear
        }

        /*
        //$animacao = array(0=>"color: red", 50=>"color: lime", 100=>"color: blue");
        $animacao = array("font-size: 10px", "font-size: 20px");
        echo "<style>
            h1 { -moz-animation: minhaAnimacao 1s infinite; }";
        echo keyframes("minhaAnimacao", $animacao);
        echo "</style>";
        */
        function keyframes($animacao, $frames=array()) {
            $resposta="";

            if (sizeof($frames) == 2) {
                $resposta .= "from {". reset($frames) ." }\n ";
                $resposta .= "to {". end($frames) ." }\n ";
            } else {
                foreach ($frames as $indice=>$valor) {
                    $resposta .= $indice ."% {". $valor ."; }\n ";
                }
            }

            return "
                @-webkit-keyframes $animacao { $resposta }
                     @-moz-keyframes $animacao { $resposta }
                         @-o-keyframes $animacao { $resposta }
                                @keyframes $animacao { $resposta }
            ";
        }


        //echo seletor(perspective(), "h1");
        function perspective() {
            return "
                -webkit-perspective: 300px; /* Chrome 12+, Safari 4+ */
                     -moz-perspective: 300px;   /* Firefox 10+ */
                        -ms-perspective: 300px; /* IE 10 */
                                perspective: 300px;
            ";
        }

        //echo seletor(preserve3d(), "h1");
        function preserve3d() {
            return "
             -webkit-transform-style: preserve-3d;
                    -moz-transform-style: preserve-3d;
                     -ms-transform-style: preserve-3d;
                             transform-style: preserve-3d;
            ";
        }





            function fontFace($fonte) {
                    return "
                            @font-face {
                                    font-family: '{$fonte} Regular';
                                    src: url('{$fonte}.eot');
                                    src: local('{$fonte} Regular'),
                                            local('{$fonte}'),
                                            url('{$fonte}.ttf') format('truetype'),
                                            url('{$fonte}.svg#font') format('svg');
                            }


                            body {
                                    font-family: '{$fonte} Regular', Helvetica, Arial, sans-serif;
                            }
                    ";
            }



    /*
    @font-face {
        font-family: 'WebFont';
        src: url('myfont.woff') format('woff'), // Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+
                 url('myfont.ttf') format('truetype'); // Chrome 4+, Firefox 3.5, Opera 10+, Safari 3—5


        src:url('font/fontawesome-webfont.eot?v=3.2.1');
        src:url('font/fontawesome-webfont.eot?#iefix&v=3.2.1') format('embedded-opentype'),
                url('font/fontawesome-webfont.woff?v=3.2.1') format('woff'),
                url('font/fontawesome-webfont.ttf?v=3.2.1') format('truetype'),
                url('font/fontawesome-webfont.svg#fontawesomeregular?v=3.2.1') format('svg');

    }



    .box_rgba {
        background-color: transparent;
        background-color: rgba(180, 180, 144, 0.6); // Chrome, Firefox 3+, IE 9+, Opera 10.10+, Safari 3+
    }

    .box_3dtransforms {

    }

    * {
        -webkit-box-sizing: border-box; // Android ≤ 2.3, iOS ≤ 4
             -moz-box-sizing: border-box; // Firefox 1+
                        box-sizing: border-box; // Chrome, IE 8+, Opera, Safari 5.1
    }

    .box_columns {
        -webkit-column-count: 2;    -webkit-column-gap: 15px; // Chrome, Safari 3
             -moz-column-count: 2;       -moz-column-gap: 15px; // Firefox 3.5+
                        column-count: 2;                    column-gap: 15px; // Opera 11+
    }

    .box_bgsize {
        -webkit-background-size: 100% 100%; // Safari 3-4
                        background-size: 100% 100%; // Chrome, Firefox 4+, IE 9+, Opera, Safari 5+
    }

    .box_tabsize {
        -moz-tab-size: 2; // Firefox 4+
            -o-tab-size: 2; // Opera 10.60+
                 tab-size: 2;
    }
    */


    /**
     * Escreve o conteúdo em um arquivo
     *
     * @package grimoire/bibliotecas/arquivos.php
     * @since   05-07-2015
     * @version 24-06-2021
     *
     * @param   string
     * @param   string
     * @param   bool    Conservar conteúdo, append
     *
     * @return  bool
     *
     * @example
        cabecalho_download_csv("nome_arquivo_" . date("Y-m-d") . ".csv");
        echo array_para_csv($array);
    */
    function generateToken ()
    {
        return md5(uniqid(rand(), true));
    }

    /*
    password_verify($_POST['senha'], $user['senha'])
    */


    /*
    function hashPassword ($password, $timeCost=10) {
            $options = array(
                'time_cost'      => $timeCost
                , 'memory_cost' => '2048k'
                , 'threads'      => 6
            );

            //* https://stackoverflow.com/questions/56497578/php-warning-use-of-undefined-constant-password-argon2id-when-using-password-has *
            if( defined('PASSWORD_ARGON2ID') ) {
                $hash = password_hash($password, PASSWORD_ARGON2ID, $options);
            } else {
                $hash = password_hash($password, PASSWORD_DEFAULT , $options);
                // $hash = password_hash($password, PASSWORD_DEFAULT);
            }

            return $hash;
    }
    */

    /**
     * Tenta executar um comando
     *
     * @param   string
     *
     * @uses    debug.php->exibir()
     */
    function tentar ($comando)
    {
        try {
            eval($comando);
        } catch (Exception $e) {
            exibir($e);
            exit;
        }
    }

    // /**
    //  * Exibe mensagem de erro
    //  *
    //  * @param    string
    //  *
    //  * @uses texto.php->startsWith()
    //  * @uses acesso.php->importarBD()
    //  * @uses debug.php->exibir()
    //  * @todo enviar e-mail para administrador do site em caso de erro
    //  */
    // function exibirErro ($sql="")
    // {
    //  if (AMBTST) {
    //      $mensagem = mysql_error() . ' - ' . $sql;
    //      if (startsWith($mensagem, "Unknown database")) {
    //          if (INICIALIZAR_SISTEMA)
    //          importarBD();
    //      }
    //  } else {
    //      $mensagem = "Ocorreu um erro! Tente novamente mais tarde!";
    //  }

    //  throw new ErrorException($mensagem);
    //  exibir($mensagem);
    //  die();
    // }




    // /**
    //  * Verifica se o valor se encaixa no padrão
    //  *
    //  * @param    string
    //  * @return   bool
    //  *
    //  * @example
    //  echo demora(100, "");
    //  * @internal PERIGO
    //  */
    // function demora ($iteracoes=10, $comandos="echo 'hello world!';")
    // {
    //  $inicio = inicio(); # ???
    //  for ($i=0; $i<$iteracoes; $i++) {
    //      $start = microtime(true); # ???
    //      for ($i = 0; $i < RUNS; ++$i) {
    //          eval($comandos);
    //      }
    //  }

    //  echo "execution took: ". intervalo($inicio). " seconds.";
    // }






    // /**
    //  *
    //  * Buscar comentários multi-linha
    //  * Uma forma simples de buscar e eliminar comentários multi-linha em PHP, CSS e outras linguagens:
    //  */
    // function validaBuscarComentariosMultilinha ()
    // {
    //  $string = "/* commmmment */";
    //  if (preg_match( padrao("comentários multi-linha"), $string))
    //      echo "example 7 successful.";
    // }

    // /**
    //  * Retorna atributo html para option selecionado se o parâmetro for igual ao alvo
    //  * @package  grimoire/bibliotecas/html.php
    //  * @since 05-07-2015
    //  * @version  17/09/2016 21:22:34
    //  *
    //  * @param    string
    //  * @param    string
    //  * @param    boolean se função deve montar o value também
    //  * @return   string
    //  */
    // function selected ($parametro, $alvo, $montarValue=true)
    // {
    //  $resposta = "";
    //  if ( $montarValue )
    //      $resposta .= 'value="'. $alvo .'" ';

    //  $resposta .= marcado($parametro, $alvo, false);

    //  return $resposta;
    // }


    /**
     *
     * @example
     *
        $data = selecionar( 'resultado' );
        baixarPlanilhaExcell ($data, "relatorio");
    */
    //baixarPlanilhaExcell($array_resultado, "Inscrições Confirmadas com Títulos em aberto - " . $data);
    function baixarPlanilhaExcell ($data, $filename="file")
    {
        header("Pragma: public");
        header("Pragma: no-cache");
        header("Expires: 0");
        header("Cache-Control: must-revalidate, post-check=0, pre-check=0");
        header("Content-type: application/vnd.ms-excel");
        header("Content-Disposition: attachment; filename=".$filename.".xls");
        header("Content-Transfer-Encoding: binary ");
        header('Last-Modified: '.gmdate('D, d M Y H:i:s').' GMT');
        flush();
        $outstream = fopen("php://output", "w");
        function __outputXLS (&$vals, $key, $filehandler)
        {
            fputcsv($filehandler, $vals,chr(9),chr(0)); // add parameters if you want
        }
        array_walk($data, "__outputXLS", $outstream);
        fclose($outstream);
    }
    /**
     * Convert number of bytes largest unit bytes will fit into.
     * @package grimoire/bibliotecas/numeros.php
     * @version 05-07-2015
     *
     * It is easier to read 1kB than 1024 bytes and 1MB than 1048576 bytes. Converts
     * number of bytes to human readable number by taking the number of that unit
     * that the bytes will go into it. Supports TB value.
     *
     * Please note that integers in PHP are limited to 32 bits, unless they are on
     * 64 bit architecture, then they have 64 bit size. If you need to place the
     * larger size then what PHP integer type will hold, then use a string. It will
     * be converted to a double, which should always have 64 bit length.
     *
     * Technically the correct unit names for powers of 1024 are KiB, MiB etc.
     * @link http://en.wikipedia.org/wiki/Byte
     *
     * @since 2.3.0
     *
     * @param int|string $bytes Number of bytes. Note max integer size for integers.
     * @param int $decimals Precision of number of decimal places. Deprecated.
     * @return bool|string False on failure. Number string on success.
     */
    function size_format ( $bytes, $decimals = 0 )
    {
        $quant = array(
            // ========================= Origin ====
            'TB' => 1099511627776,  // pow( 1024, 4)
            'GB' => 1073741824,     // pow( 1024, 3)
            'MB' => 1048576,        // pow( 1024, 2)
            'kB' => 1024,           // pow( 1024, 1)
            'B ' => 1,              // pow( 1024, 0)
        );
        foreach ( $quant as $unit => $mag )
            if ( doubleval($bytes) >= $mag )
                return number_format_i18n( $bytes / $mag, $decimals ) . ' ' . $unit;

        return false;
    }

    /**
     * Converte o tamanho do arquivo de bytes para KB, MB ou GB
     * @package grimoire/bibliotecas/numeros.php
     * @version 05-07-2015
     *
     * @param   double
     * @return  string
     */
    function converterBytes ($bytes, $escala)
    {
        switch ($escala) {
            case "KB":
                $bytessize = bytessize($bytes) * .0009765625; // bytes to KB
                break;
            case "MB":
                $bytessize = (bytessize($bytes) * .0009765625) * .0009765625; // bytes to MB
                break;
            case "GB":
                $bytessize = ((bytessize($bytes) * .0009765625) * .0009765625) * .0009765625; // bytes to GB
                break;
        }

        if ($bytessize <= 0)
            return $bytessize = 0;
        else
            return round($bytessize, 2);
    }

    // /**
    //  * Retorna o conteudo de um diretório
    //  *
    //  * @package grimoire/bibliotecas/arquivos.php
    //  * @version 05-07-2015
    //  *
    //  * @param    string
    //  * @param    bool
    //  * @return   array
    //  *
    //  * @example
    //  exibir( dirToArray($_SERVER['SCRIPT_FILENAME']));
    //  exibir( dirToArray($_SERVER['DOCUMENT_ROOT']));
    //  exibir( dirToArray('C:/xampp/htdocs/sites/Projetos/')); // Retorna a partir desse arquivo
    //  exibir( dirToArray());
    //  * @todo verificar
    //  */
    // function exibirDiretorio ($dir="/", $recursividade=false)
    // {
    //  $result = array();
    //  if (!$cdir = scandir($dir)) {
    //      return false;
    //  } else {
    //      foreach ($cdir as $key => $value) {
    //          if (!in_array($value,array(".",".."))) {
    //              if (is_dir($dir . DIRECTORY_SEPARATOR . $value)) {
    //                  if ($recursividade)
    //                      $result[$value] = dirToArray($dir . DIRECTORY_SEPARATOR . $value);
    //              } else {
    //                  $result[] = $value;
    //              }
    //          }
    //      }
    //      return $result;
    //  }
    // }

    // /**
    //  * Verifica se o valor se encaixa no padrão
    //  *
    //  * @param    string
    //  * @return   bool
    //  *
    //  * @example
    //  echo demora(100, "");
    //  * @internal PERIGO
    //  */
    // function demora ($iteracoes=10, $comandos="echo 'hello world!';")
    // {
    //  $inicio = inicio(); # ???
    //  for ($i=0; $i<$iteracoes; $i++) {
    //      $start = microtime(true); # ???
    //      for ($i = 0; $i < RUNS; ++$i) {
    //          eval($comandos);
    //      }
    //  }

    //  echo "execution took: ". intervalo($inicio). " seconds.";
    // }


    // /**
    //  * Exibe mensagem de erro
    //  *
    //  * @param    string
    //  *
    //  * @uses texto.php->startsWith()
    //  * @uses acesso.php->importarBD()
    //  * @uses debug.php->exibir()
    //  * @todo enviar e-mail para administrador do site em caso de erro
    //  */
    // function exibirErro ($sql="")
    // {
    //  if (AMBTST) {
    //      $mensagem = mysql_error() . ' - ' . $sql;
    //      if (startsWith($mensagem, "Unknown database")) {
    //          if (INICIALIZAR_SISTEMA)
    //          importarBD();
    //      }
    //  } else {
    //      $mensagem = "Ocorreu um erro! Tente novamente mais tarde!";
    //  }

    //  throw new ErrorException($mensagem);
    //  exibir($mensagem);
    //  die();
    // }


    // function  backtrace()
    // {

    //  $callers = debug_backtrace();
    //  $arrBacktrace = array();
    //  $callersNum = count($callers);

    //  echo('<pre>');
    //  print_r($callers);
    //  echo('</pre>');

    //  for ($i = 1; $i < $callersNum; $i++) {
    //      $arrBacktrace [] = sprintf('%s::%s(%d)', $callers[$i]['class'], $callers[$i]['function'], $callers[$i]['line'])
    // ;
    //  }

    //  return implode('->', $arrBacktrace);
    // }

    // function  lancarExcecao( $mssg )
    // {
    //  backtrace();
    //  throw new Exception($mssg);
    // }


    // /**
    //  * Verifica se o valor se encaixa no padrão
    //  *
    //  * @package grimoire/bibliotecas/arquivos.php
    //  * @version 05-07-2015
    //  *
    //  * @param    string
    //  * @param    int
    //  * @return   bool
    //  *
    //  * @uses expressoesRegulares.php->padrao()
    //  */
    // // Muito semelhante a blob
    // function lerArquivo ($caminho, $tamanhoLinha = 10000)
    // {
    //  $arquivo = fopen($caminho, 'r');
    //  while (!feof($arquivo)) {
    //      $linha      = fgetss($arquivo, $tamanhoLinha);
    //      $vetor_aux = explode(";", $linha);
    //      $novaLinha = null;
    //      foreach ($vetor_aux as $value) {
    //          $novaLinha[] = htmlentities($value);
    //      }
    //      $retorno[] = $novaLinha;
    //  }
    //  return $retorno;
    // }

nos forms
    <?php #require 'public/views/forms/'.MODULO.'-atualizacao.php'  #--- prod ?>
    <?php require '_arquivos_auto_gerados/views/'.MODULO.'-atualizacao.php' #  dev ?>
    colocar if producao?


colocar montar criacao para pegar descrições em json
	gerarModelo ($nome, $descricao)


    /**
     * Exibe campos conforme layout desse admin
     * @package grimoire/bibliotecas/formularios.php
     * @since   05-07-2015
     * @version 30-06-2021
     *
     * @param   string
     */
    function exibirTemplate ($campos, $labels, $esconder=array(), $registro=null)
    {
        #include_once "master/componentes/campoStatus.php";// ??????????????????????????????????????
        foreach ($campos as $indice => $c) {
            if (!in_array($indice, $esconder)) { ?>
                <div class="control-group">
                <?php echo $labels[$indice] ?>

                <div class="controls">

                <?php if (!is_array($c) && strpos($c, "type='file'") !== FALSE) { // Pode dar erro se VALOR contiver file !!!!!!!!!!!!!!!!!!! ?>
                    <span class="btn black fileinput-button">
                        <i class="icon-plus icon-white"></i>
                        <span>Selecione a Foto</span>
                <?php } ?>

                <?php echo $campos[$indice] ?>
                <?php if (!is_array($c) && strpos($c, "type='file'") !== FALSE) { // Pode dar erro se VALOR contiver file !!!!!!!!!!!!!!!!!!!
                        if (!empty($_GET['codigo']) && !empty($registro['foto'])) { ?>
                            </span>
                            </div>
                            </div>
                            <div class="control-group">
                            <label class="control-label">Arquivo</label>
                            <div class="controls"><?php

                            $dados = getimagesize(IMAGENS. "/{$_GET['modulo']}/{$registro['foto']}");
                            echo img(IMAGENS."/{$_GET['modulo']}/{$registro['foto']}", array('style' => "max-height: 200px; border: 1px dashed silver", "title"=>$dados['mime']), false);
                            echo $dados[1] .'px';

                            echo '<br>'. $dados[0] .'px';
                        }
                    } ?>
                </div>
            </div>
            <?php } else { ?>
                <?php echo $campos[$indice] ?>
                <?php
            }
        }
    }


// session_start();
// echo "O limitador de cache esta definido agora como $cache_limiter<br />";
// echo "As sessões em cache irão expirar em $cache_expire minutos";


processosIniciais->templatePagina()
    $pagina['html'][0/1]
    $pagina['metas']
    $pagina['body']['header']
    $pagina['body']['content']
    $pagina['body']['footer']
    $pagina['scripts']
    $pagina['benchmark'][clock]


processosFinais->construirPagina()

defines htaccess


define( "VALIDADE"              , "" );

15/07/2021 16:05:15
/**
 * Verifica se o prazo de validade do sistema expirou
 * @package grimoire/bibliotecas/acesso.php
 * @version 20-07-2015
 *
 * @param   string
 * @return  bool
 *
 * @uses    configuracoes.php->VALIDADE
 * @uses    tempo.php->agora()
 * @uses    tempo.php->diferencaTempo()
 */
function checarValidade ()
{
    $v = diferencaTempo(VALIDADE, agora());

    if ($v < 0) {
        header( 'Status: 403 Forbidden' );
        header( 'HTTP/1.1 403 Forbidden' );
        echo "Sistema expirado!";
        exit;
    }
}


15/07/2021 15:49:52
getCSS padrão
    obrigatorio
    invisivel


gerarBuild(Producao=true)
    producao que trunca tabelas e realiza inserts básicos



    /**
     * Verifica se o valor se encaixa no padrão
     * @package grimoire/bibliotecas/tempo.php
     * @version 05-07-2015
     *
     * @param   string
     * @return  bool
     *
     * @uses        expressoesRegulares.php->padrao()
     * @example
            tempo();
     */
    function tempo ()
    {
        session_start();
        echo session_id();
        // Insere tempo na sessão
        if (!isset($_SESSION['timeout']))
            $_SESSION['timeout'] = time() + 60; //session time is 1 minute


        exibir($_SESSION);
    // Se acabar o tempo
        echo time() - $_SESSION['timeout'];
        if ((time() - $_SESSION['timeout']) > 0) {
            session_regenerate_id();
            session_destroy();
            unset($_SESSION);
        }
    }


    # dia da semana
    # estados
    function retornaMes ($criterio, $abreviacao=false, $ptbr=true)
    {
        $meses = array();

        if ($ptbr) {
            $meses[1]   = array('abreviacao' => 'JAN', 'nome' => 'Janeiro');
            $meses[2]   = array('abreviacao' => 'FEV', 'nome' => 'Fevereiro');
            $meses[3]   = array('abreviacao' => 'MAR', 'nome' => 'Março');
            $meses[4]   = array('abreviacao' => 'ABR', 'nome' => 'Abril');
            $meses[5]   = array('abreviacao' => 'MAI', 'nome' => 'Maio');
            $meses[6]   = array('abreviacao' => 'JUN', 'nome' => 'Junho');
            $meses[7]   = array('abreviacao' => 'JUL', 'nome' => 'Julho');
            $meses[8]   = array('abreviacao' => 'AGO', 'nome' => 'Agosto');
            $meses[9]   = array('abreviacao' => 'SET', 'nome' => 'Setembro');
            $meses[10]  = array('abreviacao' => 'OUT', 'nome' => 'Outubro');
            $meses[11]  = array('abreviacao' => 'NOV', 'nome' => 'Novembro');
            $meses[12]  = array('abreviacao' => 'DEZ', 'nome' => 'Dezembro');
        } else {
            $meses[1]   = array('abreviacao' => 'JAN', 'nome' => 'January');
            $meses[2]   = array('abreviacao' => 'FEB', 'nome' => 'February');
            $meses[3]   = array('abreviacao' => 'MAR', 'nome' => 'March');
            $meses[4]   = array('abreviacao' => 'APR', 'nome' => 'April');
            $meses[5]   = array('abreviacao' => 'MAY', 'nome' => 'May');
            $meses[6]   = array('abreviacao' => 'JUN', 'nome' => 'June');
            $meses[7]   = array('abreviacao' => 'JUL', 'nome' => 'July');
            $meses[8]   = array('abreviacao' => 'AUG', 'nome' => 'August');
            $meses[9]   = array('abreviacao' => 'SEP', 'nome' => 'September');
            $meses[10]  = array('abreviacao' => 'OCT', 'nome' => 'October');
            $meses[11]  = array('abreviacao' => 'NOV', 'nome' => 'November');
            $meses[12]  = array('abreviacao' => 'DEC', 'nome' => 'December');
        }

        if ( is_int($criterio) ) {
            if ($abreviacao)
                return $meses[$criterio]['abreviacao'];
            else
                return $meses[$criterio]['nome'];

        } else {
            foreach ($meses as $indice => $value) {
                if ( $value['abreviacao'] == $criterio ) {
                    if ($indice <= 9)
                        $indice = "0".$indice;

                    return $indice;
                }
            }
        }
    }

metas controle por abas
baixar os arquivos CDN



if não tem env abrir tela de criar





SIMBOLO_SETAESQUERDA = <i class='fas fa-angle-left'></i>

$vetorPaginas['primeira'] = "<span class='primeira'><i class='fas fa-angle-double-left'></i></span>";
$vetorPaginas['anterior'] = "<span class='anterior'>". SIMBOLO_SETAESQUERDA ."</span>";

$vetorPaginas['proxima'] = "<span class='proxima'><i class='fas fa-angle-right'></i></span>";
$vetorPaginas['ultima'] = "<span class='ultima'><i class='fas fa-angle-double-right'></i></span>";

function ordenado($campo="", $both="&#8597;", $asc="&#8595;", $desc="&#8593;") {





# Grimoire
 em caso de força bruta sem usuário válido
	# TODO bloquearIp(identificarIP());
۞
Ѡ

identificarMobile () nos logs

colocar na função de erro em DEV
	https://stackoverflow.com/search?q=constants





# TODO: colocar na sessao o navegador e ip

# centralizar bloqueio de usuario logado/deslogado conforme configuracao de página atual



<!-- <link rel="publisher" href="https://plus.google.com/[your business g+ profile here]"> -->



MFA
Captcha

PHP_EOL

return array_map('utf8_encode/utf8_decode', $value)


// $pph_strt = microtime(true);
// //The code he posted for login.php
// $end = (microtime(true) - $pph_strt);
// $wait = bcmul((1 - end), 1000000);  // usleep(250000) 1/4 of a second
// usleep ( wait );
// echo "<br>Execution time:".(microtime(true) - pph_strt)."; ";





// /**
//  * Exibe mensagem de erro
//  *
//  * @param	 string
//  *
//  * @uses		texto.php->startsWith()
//  * @uses		acesso.php->importarBD()
//  * @uses		debug.php->exibir()
//  * @todo		enviar e-mail para administrador do site em caso de erro
//  */
// function exibirErro ($sql="")
// {
// 	if ( !PRODUCAO ) {
// 		$mensagem = mysql_error() . ' - ' . $sql;
// 		// if (startsWith($mensagem, "Unknown database")) {
// 			// if ( INICIALIZAR_SISTEMA )
// 				// importarBD();
// 		// }
// 	} else {
// 		$mensagem = "Ocorreu um erro! Tente novamente mais tarde!";
// 	}

// 	throw new ErrorException($mensagem);
// 	exibir($mensagem);
// 	die();
// }






gerar arquivo de configurações como template
gerar arquivos
    htaccess
    .env


SET GLOBAL time_zone = 'Europe/Helsinki';

criar estrutura de diretório


comment nos template de tabela
ALTER TABLE supplier COMMENT 'Includes past suppliers';

ALTER TABLE supplier
    MODIFY dir VARCHAR(50)
        CHARACTER SET ascii COLLATE ascii_bin
        NOT NULL DEFAULT 'catchall' CHECK (dir > '')
        COMMENT 'Directory containing invoices';


label .obrigatorio
	after *

inserir/update/delete com log



biblioteca de botões no grimoire

transaction
	commit
	rollback


# TODO: gerarPagina() retornar conteudo em array para alteração antes de exibição


verificar gerar pagina
	retornar array associativa para adição de conteúdo e printar página inteira com benchmark
	colocar gerar metas com parametros de configuração



prepararAmbienteProducao
	if producao
		remover arquivos de debug e pastas temporarias
# TODO: apagar logs de erro deste usuário



erro no meu montar criacao de tabelas
	verificar extras on update current timestamp
	General error: 1364 Field 'ativo' doesn't have a default value


less.php
templateTabelaOperacoes() parear com definição atualizada do db
templeate roles

dbclass usar como objeto mesmo?

template das paginas com conteudo inserivel

$result = $DAO->converter_para_utf8($DAO->buscar_varios($sql,10000));
$DAO->renderXLS($data,"inadimplentes_");


if keepAlive
    begin transaction

permissão grupos


pegar mapeamento diretorio do CC
separar inserts obrigatorios em um diretorio especifico

seeder insere dummy registros
rota asset pipeline
versao no config do projeto
    tmz
    idioma
    descricao
    ambiente
    titulo
    down
        tela de manutenção

    paginas config
        acesso bl, wl
router
    valida acesso e encaminha para destino
controla master & functions
breadcrumb
blades
control chama serviço que executa 1 unica tarefa

regras validação
    required?
    null?
    numero
        max min
    letra
        maior q?
        mensagem para cada tipo de erro
lista request aceitavel, chama service?

langs
    default
    multiplas
    cria template

permissions e roles
control valida request e permissão e chama serviço



validação automática conforme bd
    antes de insert e update
uuid nos get
author insert, update e delete

só updata parametros que foram enviados


funcs return type php 7
func montar estrutura de diretorio template

grimoire pagina de apresentação e docs, EXEMPLOS
SET CONFIGS


TELA TESTAR FUNÇÕES COMO SWAGGER


queue de tarefas a realizar
    scrpts a inserir

relógio padrão em dev
    queue?
config tempo de bloqueio por força bruta
numero de tentativas

log de erros via arquivo

postgres
    json e subquery
     criar coluna status
     id
     dia da semana e horario de atendimento
dbeaver

função de criar tabelas padrão
    matriz acesso
    menu - id pai
captcha
csrf
    token on insert, postman fails

config tempo inativo cair sessão


listar encoding map directory
barra carregamento CC




duble
SIMULA RESULTADDOS do bd

php unit
testes


pace
xss

ver guia dde diretrizes

tzinho nos php docs
    T------------------------------





get,post,metodos
    feitos de maneira universal, funciona pra qqer objeto


criar readme com instruções de instalação
    {instruir a alterar e adicionar ao gitignore}
    parametrizar
        exportação de bd
            registros em json
        exibição de erros conforme ambiente

        criar git projeto em andamento
            WiP













<?php

namespace Lib\Movida;

final class Security {

    private static $st_salt_password = '$2a$07$bda7ac69d6c64931a0c53116d'; ///////// remover salt fixo
    private static $st_code_reset = '#gwrK4xcT!Tquug8';
    private static $st_hash_key = 'N^RMJ4E8iAzNP6mk05Mjz7vvL5G#YjYj';
    private static $st_hash_iv = '#gwrK4xcT!Tquug8';

    /**
     * @param $st_user
     * @return string
     */
    public static function createSessionID($st_user) {
        $st_hash = $st_user.time();
        return hash('sha256',$st_hash);
    }

    /**
     * @param $st_password
     * @return string
     */
    public static function encryptPassword($st_password) {



        //$st_password = 'rasmuslerdorf';





        $st_encodes = crypt($st_password, self::$st_salt_password); //////////////////// modificar aqui
        return hash('sha512',$st_encodes);
    }

    /**
     * @param int $qtdChar
     * @return string
     */
    public static function generatePasswordResetCode($qtdChar = 6){
        $characters = self::$st_code_reset;
        $mix_1 = str_shuffle($characters);
        $mix_2 = str_shuffle($characters);
        $mixFinal = str_shuffle($mix_1.$mix_2);
        $code = substr($mixFinal, 0, $qtdChar);
        return str_shuffle($code);
    }

}





/**
 * Retorna o endereço mac do servidor
 * @package grimoire/bibliotecas/acesso.php
 * @version 20-07-2015
 *
 * @return  string/bool
 *
 * @uses    $_SERVER
    echo "Mac address".returnMacAddress();
 */
function returnMacAddress ()
{
    $location = `which arp`;
    $arpTable = `$location`;
    $arpSplitted = explode("\n",$arpTable);
    // echo '<pre>';
    // print_r($arpSplitted);
    // echo '</pre>';
    $remoteIp = $GLOBALS['REMOTE_ADDR'];
    foreach ($arpSplitted as $value){
        $valueSplitted = explode(" ",$value);
        foreach ($valueSplitted as $spLine) {
            $ipFound = preg_match("/$remoteIp/",$spLine);
            if ($ipFound) {
                reset($valueSplitted);
                foreach ($valueSplitted as $spLine) {
                    if (preg_match("/[0-9a-f][0-9a-f][:-]".
                        "[0-9a-f][0-9a-f][:-]".
                        "[0-9a-f][0-9a-f][:-]".
                        "[0-9a-f][0-9a-f][:-]".
                        "[0-9a-f][0-9a-f][:-]".
                        "[0-9a-f][0-9a-f]/i",$spLine)) {
                        return $spLine;
                    }
                }
            }
        }
    }
    return false;
}





/**
 * Pega o conteúdo de um arquivo dá eval e retorna
 * @package grimoire/bibliotecas/arquivos.php
 * @version 05-07-2015
 *
 * @param   string
 * @return  bool
 *
 * @uses    $_SERVER
 */
function get_include_contents ($filename)
{
    if ( is_file($filename) ) {
        ob_start();
        include $filename;
        $contents = ob_get_contents();
        ob_end_clean();
        return $contents;
    }
    return false;
}


/**
 * Verifica se o valor se encaixa no padrão
 * @package grimoire/bibliotecas/texto.php
 * @version 05-07-2015
 *
 * @param   string
 * @return  string
 */
function utf8_rawurldecode ($raw_url_encoded)
{
    $enc = rawurldecode($raw_url_encoded);
    if (utf8_encode(utf8_decode($enc)) == $enc) {
        return rawurldecode($raw_url_encoded);
    } else {
        return utf8_encode(rawurldecode($raw_url_encoded));
    }
}








<?php

require 'app/Grimoire/core_inc.php';
require_once 'app/Grimoire/core_inc.php';

//*

exit;

function s() {

}

// folha ponto e planilha hoje

if (true) {
	br();
} elseif (false) {
	pp("texto");
} elseif (null) {
	pp("texto2");
} else {
	exit;
}


foreach ($matriz as $v) {
	echo 1;
}
die("dfdsf");
die();
die(1);

$x = array(1,2,3);

// Teste
switch ($variable) {
	case 'value':
		# code...
		break;

	default :
		# code...
		break;
}


/** dfdsf */

$y = [ "a", "b", "c"];




















// $a = array (
// 	'nome' => 'zé'
// );
 //*/



 /**
  * Altera permissão de acesso de um arquivo recursivamente
  * @package    grimoire/bibliotecas/acesso.php
  * @version    05-07-2015
  *
  * @param  string
  *
  * @example
        chmod ("/somedir/somefile", 2);
  */
 function chmod_r($path, $permission=0777) {
    $dir = new DirectoryIterator($path);
    foreach ($dir as $item) {
        chmod($item->getPathname(), $permission);
        if ($item->isDir() && !$item->isDot()) {
            chmod_r($item->getPathname());
        }
    }
 }





 /**
  * Adiciona protocolo na url se não tiver
  * @package grimoire/bibliotecas/texto.php
  * @version 05-07-2015
  *
  * @param  string: url
  * @param  string: protocolo [http,https]
  * @return string
  */
 function adicionarProtocolo ($url, $protocolo="http")
 {
    if (!preg_match("/^(http|ftp):/", $url)) {
        $url = $protocolo. '://'.$url;
    }
    return $url;
 }





 /**
  * Inclui e valida inscrição estadual
  * @package    grimoire/bibliotecas/validacao.php
  * @since  05-07-2015
  * @version    24/07/2021 16:17:30
  *
  * @param  string
  * @param  string
  * @return bool
  */
 function validaIE ($ie, $uf="SP")
 {
    include_once "opcionais/validacao/inscricaoEstadual.php";
    return CheckIE($ie, $uf);
 }
